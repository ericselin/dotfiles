source ~/.config/mutt/nord.theme
source ~/.config/mutt/gpg.rc

set from = "me@ericselin.dev"
set realname = "Eric Selin"
alternates me@ericselin.dev
alternates eric@ericselin.dev
alternates eric@statichost.eu
alternates team@statichost.eu
# reply from alternate
set reverse_name=yes

# Smtp settings
set smtp_url = "smtps://eric.selin@smtp.mailfence.com:465"
set smtp_pass = `gopass show -o websites/mailfence.com/eric.selin`

# Maildir settings
set mbox_type=Maildir
set folder=~/.mail/mailfence
set spoolfile=+Inbox
set record=+"Sent Items"
set postponed=+Drafts
set header_cache=~/.cache/mutt

# helix editor
set editor = "hx"

# view html emails (from arch wiki)
set mailcap_path = ~/.config/mutt/mailcap
auto_view text/html
alternative_order text/plain text/html
macro attach 'V' "<pipe-entry>iconv -c --to-code=UTF8 > /tmp/mutt.html<enter><shell-escape>firefox /tmp/mutt.html<enter>"

# messages that are of a todo nature
unset confirmappend
macro index,pager a "<save-message>=starred<enter><enter-command>echo 'Starred'<enter>" "Star message"

# specific functions
bind pager,index R group-reply

# More (dvorak) vim like keybindings
bind pager t next-line
bind pager n previous-line
bind attach,index t next-entry
bind attach,index n previous-entry
bind attach,index,pager \CD next-page
bind attach,index,pager \CU previous-page
bind pager g top
bind pager G bottom
bind attach,index g first-entry
bind attach,index G last-entry

# save to archive
macro index,pager S "<save-message>=Archive\n"
